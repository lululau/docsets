"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_has-interactions_ts-app_assets_modules_github_history_ts-app_assets-94cfe1"],{54679(a,b,c){c.d(b,{H:()=>f,v:()=>e});var d=c(59753);function e(){let a=document.getElementById("ajax-error-message");a&&(a.hidden=!1)}function f(){let a=document.getElementById("ajax-error-message");a&&(a.hidden=!0)}(0,d.on)("deprecatedAjaxError","[data-remote]",function(a){let b=a.detail,{error:c,text:d}=b;a.currentTarget===a.target&&"abort"!==c&&"canceled"!==c&&(/<html/.test(d)?(e(),a.stopImmediatePropagation()):setTimeout(function(){!a.defaultPrevented&&e()},0))}),(0,d.on)("deprecatedAjaxSend","[data-remote]",function(){f()}),(0,d.on)("click",".js-ajax-error-dismiss",function(){f()})},19146(a,b,c){c.d(b,{W:()=>e});var d=c(59753);async function e(a){let b=document.querySelector("#site-details-dialog"),c=b.content.cloneNode(!0),e=c.querySelector("details"),f=e.querySelector("details-dialog"),g=e.querySelector(".js-details-dialog-spinner");a.detailsClass&&e.classList.add(...a.detailsClass.split(" ")),a.dialogClass&&f.classList.add(...a.dialogClass.split(" ")),a.label?f.setAttribute("aria-label",a.label):a.labelledBy&&f.setAttribute("aria-labelledby",a.labelledBy),document.body.append(c);let h=await a.content;return g.remove(),f.prepend(h),e.addEventListener("toggle",()=>{e.hasAttribute("open")||((0,d.f)(f,"dialog:remove"),e.remove())}),f}},80721(a,b,c){c.d(b,{C:()=>e,x:()=>d});let d="interactive"===document.readyState||"complete"===document.readyState?Promise.resolve():new Promise(a=>{document.addEventListener("DOMContentLoaded",()=>{a()})}),e="complete"===document.readyState?Promise.resolve():new Promise(a=>{window.addEventListener("load",a)})},98249(a,b,c){c.d(b,{D:()=>g,a:()=>f});var d=c(2825),e=c(75662);async function f(a,b,c){let f=new Request(b,c);f.headers.append("X-Requested-With","XMLHttpRequest");let g=await self.fetch(f);if(g.status<200||g.status>=300)throw Error(`HTTP ${g.status}${g.statusText||""}`);return(0,d.t)((0,d.P)(a),g),(0,e.r)(a,await g.text())}function g(a,b,c=1e3){return async function c(d){let e=new Request(a,b);e.headers.append("X-Requested-With","XMLHttpRequest");let f=await self.fetch(e);if(f.status<200||f.status>=300)throw Error(`HTTP ${f.status}${f.statusText||""}`);if(200===f.status)return f;if(202===f.status)return await new Promise(a=>setTimeout(a,d)),c(1.5*d);throw Error(`Unexpected ${f.status} response status from poll endpoint`)}(c)}},54650(a,b,c){c.d(b,{Bt:()=>h,DN:()=>k,KL:()=>n,Se:()=>j,qC:()=>o,sw:()=>l});var d=c(59753),e=c(76177),f=c(54679);function g(a,b,c){return a.dispatchEvent(new CustomEvent(b,{bubbles:!0,cancelable:c}))}function h(a,b){b&&(i(a,b),(0,e.j)(b)),g(a,"submit",!0)&&a.submit()}function i(a,b){if(!(a instanceof HTMLFormElement))throw TypeError("The specified element is not of type HTMLFormElement.");if(!(b instanceof HTMLElement))throw TypeError("The specified element is not of type HTMLElement.");if("submit"!==b.type)throw TypeError("The specified element is not a submit button.");if(!a||a!==b.form)throw Error("The specified element is not owned by the form element.")}function j(a,b){if("boolean"==typeof b){if(a instanceof HTMLInputElement)a.checked=b;else throw TypeError("only checkboxes can be set to boolean value")}else{if("checkbox"===a.type)throw TypeError("checkbox can't be set to string value");a.value=b}g(a,"change",!1)}function k(a,b){for(let c in b){let d=b[c],e=a.elements.namedItem(c);e instanceof HTMLInputElement?e.value=d:e instanceof HTMLTextAreaElement&&(e.value=d)}}function l(a){if(!(a instanceof HTMLElement))return!1;let b=a.nodeName.toLowerCase(),c=(a.getAttribute("type")||"").toLowerCase();return"select"===b||"textarea"===b||"input"===b&&"submit"!==c&&"reset"!==c||a.isContentEditable}function m(a){return new URLSearchParams(a)}function n(a,b){let c=new URLSearchParams(a.search),d=m(b);for(let[e,f]of d)c.append(e,f);return c.toString()}function o(a){return m(new FormData(a)).toString()}(0,d.on)("click",".js-remote-submit-button",async function(a){let b=a.currentTarget,c=b.form;a.preventDefault();let d;try{d=await fetch(c.action,{method:c.method,body:new FormData(c),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}d&&!d.ok&&(0,f.v)()})},64611(a,b,c){c.d(b,{M:()=>f,T:()=>g});var d=c(14840),e=c(54650);function f(a,b=!1){return g(a)||k(a,b)||n(a)||o(a)}function g(a){for(let b of a.querySelectorAll("input, textarea"))if((b instanceof HTMLInputElement||b instanceof HTMLTextAreaElement)&&h(b))return!0;return!1}function h(a){if(a instanceof HTMLInputElement&&("checkbox"===a.type||"radio"===a.type)){if(a.checked!==a.defaultChecked)return!0}else if(a.value!==a.defaultValue)return!0;return!1}let i,j;function k(a,b){var c;let d=(c=a,i instanceof Element?i:c&&c.ownerDocument&&c.ownerDocument.activeElement?c.ownerDocument.activeElement:null);if(null===d||b&&d===a)return!1;let f=d===a&&(0,e.sw)(d);if(f)return!0;let g=a.contains(d)&&!m(d);if(g)return!0;let h=j instanceof Element&&a.contains(j)&&!!j.closest("details[open] > summary");return h}document.addEventListener("mouseup",function(a){j=a.target});let l="a[href], button";function m(a){if(a instanceof d.Z)return!0;let b=a instanceof HTMLAnchorElement||a instanceof HTMLButtonElement,c=a.parentElement?.classList.contains("task-list-item");if(b&&c)return!0;if(!(j instanceof Element))return!1;let e=a.closest(l);if(!e)return!1;let f=j.closest(l);return e===f}function n(a){return a.matches(":active:enabled")}function o(a){return!!(a.closest(".is-dirty")||a.querySelector(".is-dirty"))}},9302(a,b,c){c.d(b,{Mw:()=>o,"_C":()=>n,lO:()=>m,qA:()=>l,y0:()=>g});let d=[],e=0,f;function g(){return f}function h(){try{return Math.min(Math.max(0,history.length)||0,9007199254740991)}catch(a){return 0}}function i(){return h()-1+e}function j(a){f=a;let b=location.href;d[i()]={url:b,state:f},d.length=h(),window.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}function k(){return new Date().getTime()}function l(a,b,c){e=0;let d={_id:k(),...a};history.pushState(d,b,c),j(d)}function m(a,b,c){let d={...f,...a};history.replaceState(d,b,c),j(d)}function n(){let a=d[i()-1];if(a)return a.url}function o(){let a=d[i()+1];if(a)return a.url}f=function(){let a={_id:new Date().getTime(),...history.state};return j(a),a}(),window.addEventListener("popstate",function(a){let b=a.state;if(b&&(b._id||b.turbo?.restorationIdentifier)){if(b.turbo?.restorationIdentifier){let c=b.turbo.restorationIdentifier,g=d[i()-1]?.state?.turbo?.restorationIdentifier;g===c?e--:e++}else b._id<(f._id||NaN)?e--:e++;j(b)}},!0);let p;window.addEventListener("turbo:visit",a=>{a instanceof CustomEvent&&(p=a.detail.action)}),window.addEventListener("turbo:load",()=>{"restore"!==p&&(e=0,m(history.state,"",""))}),window.addEventListener("hashchange",function(){if(h()>d.length){let a={_id:k()};history.replaceState(a,"",location.href),j(a)}},!0)},2825(a,b,c){function d(a){let b=[...a.querySelectorAll("meta[name=html-safe-nonce]")].map(a=>a.content);if(b.length<1)throw Error("could not find html-safe-nonce on document");return b}c.d(b,{P:()=>d,t:()=>e});class ResponseError extends Error{constructor(a,b){super(`${a} for HTTP ${b.status}`),this.response=b}}function e(a,b,c=!1){let d=b.headers.get("content-type")||"";if(!c&&!d.startsWith("text/html"))throw new ResponseError(`expected response with text/html, but was ${d}`,b);if(c&&!(d.startsWith("text/html")||d.startsWith("application/json")))throw new ResponseError(`expected response with text/html or application/json, but was ${d}`,b);let e=b.headers.get("x-html-safe");if(e){if(!a.includes(e))throw new ResponseError("response X-HTML-Safe nonce did not match",b)}else throw new ResponseError("missing X-HTML-Safe nonce",b)}},29764(a,b,c){c.d(b,{"$S":()=>e,Fk:()=>f,sz:()=>g});var d=c(34855);function e(a,b,c){let e={hydroEventPayload:a,hydroEventHmac:b,visitorPayload:"",visitorHmac:"",hydroClientContext:c},f=document.querySelector("meta[name=visitor-payload]");f instanceof HTMLMetaElement&&(e.visitorPayload=f.content);let g=document.querySelector("meta[name=visitor-hmac]")||"";g instanceof HTMLMetaElement&&(e.visitorHmac=g.content),(0,d.b)(e,!0)}function f(a){let b=a.getAttribute("data-hydro-view")||"",c=a.getAttribute("data-hydro-view-hmac")||"",d=a.getAttribute("data-hydro-client-context")||"";e(b,c,d)}function g(a){let b=a.getAttribute("data-hydro-click-payload")||"",c=a.getAttribute("data-hydro-click-hmac")||"",d=a.getAttribute("data-hydro-client-context")||"";e(b,c,d)}},254(a,b,c){c.d(b,{ZG:()=>h,q6:()=>j,w4:()=>i});var d=c(8439);let e=!1,f=new d.Z;function g(a){let b=a.target;if(b instanceof HTMLElement&&b.nodeType!==Node.DOCUMENT_NODE)for(let c of f.matches(b))c.data.call(null,b)}function h(a,b){e||(e=!0,document.addEventListener("focus",g,!0)),f.add(a,b),document.activeElement instanceof HTMLElement&&document.activeElement.matches(a)&&b(document.activeElement)}function i(a,b,c){function d(b){let e=b.currentTarget;e&&(e.removeEventListener(a,c),e.removeEventListener("blur",d))}h(b,function(b){b.addEventListener(a,c),b.addEventListener("blur",d)})}function j(a,b){function c(a){let{currentTarget:d}=a;d&&(d.removeEventListener("input",b),d.removeEventListener("blur",c))}h(a,function(a){a.addEventListener("input",b),a.addEventListener("blur",c)})}},27303(a,b,c){c.d(b,{V:()=>m,l:()=>n});var d=c(64463),e=c(59753),f=c(254),g=c(29764);let h="team_ids[]",i="role",j=(a,b)=>{let c=document.createElement("input");return c.type="hidden",c.name=a,c.value=b,c},k=a=>{let b=new URLSearchParams(window.location.search),c=new Set(b.getAll(h)),d=document.querySelectorAll(a);for(let e of d)e.checked?c.add(e.value):c.delete(e.value);return[...c]},l=a=>document.querySelectorAll(`${a} > a`);function m(a,b){if(a.checked)for(let c of document.querySelectorAll(b))c.appendChild(j(h,a.value));else for(let d of document.querySelectorAll(`input[type="hidden"][name="${h}"][value="${a.value}"]`))d.remove()}function n(a,b){let c=k(b);for(let d of l(a)){let e=d.getAttribute("href");if(e){let f=new URL(e,window.location.origin),g=new URLSearchParams(f.search.slice(1));for(let i of(g.delete(h),c))g.append(h,i);f.search=g.toString(),d.setAttribute("href",f.toString())}}}function o(){let a=document.querySelector(".js-org-reinstate-forms"),b=document.querySelectorAll(".js-org-reinstate-option:checked");if(!a||1!==b.length)return;let c=b[0].getAttribute("data-form"),d=a.getElementsByClassName("js-togglable-form");for(let e of d)e.classList.add("d-none");let f=document.getElementById(c);f.classList.remove("d-none")}function p(){let a=document.querySelector(".js-seats");if(!a)return z();let b=a.getAttribute("data-filled-seats");return parseInt(b)+z()}function q(){!s()&&(r(),t(),u(),C()?x():(v(".js-plan-no-change",!1),v(".js-plan-changes",!0),v(".js-complete-button",!1),v(".js-invite-button",!0)))}function r(){let a=document.querySelector(".js-filled-seats"),b=p();a&&null!==b&&(a.textContent=b.toString())}function s(){let a=0>=z();return!!a&&(v(".js-plan-no-change",!0),v(".js-plan-changes",!0),!0)}function t(){let a=document.querySelector(".js-seats-remaining");if(a instanceof HTMLElement){a.hidden=!0;let b=A()-p(),c=document.querySelector(".js-seats-remaining-zero"),d=document.querySelector(".js-seats-remaining-singular"),e=document.querySelector(".js-seats-remaining-plural");if(c.hidden=0!==b,d.hidden=1!==b,b>1){let f=document.querySelector(".js-seats-remaining-update-target");f.textContent=String(b)}e.hidden=b<=1}}function u(){let a=document.querySelector(".js-max-seats-warning");a instanceof HTMLElement&&(a.hidden=!B())}function v(a,b){let c=document.querySelector(a);c instanceof HTMLElement&&(c.hidden=b)}(0,e.on)("click",".js-invitation-toggle-team",async function({currentTarget:a}){n(".js-invitations-team-suggestions-pagination",".js-invitation-toggle-team"),m(a,"form.js-org-team-suggestions")}),(0,e.on)("click",".js-invitation-radio-role",async function({currentTarget:a}){let b=a.value;for(let c of l(".js-invitations-team-suggestions-pagination")){let d=c.getAttribute("href");if(d){let e=new URL(d,window.location.origin),f=new URLSearchParams(e.search.slice(1));f.set("role",b),e.search=f.toString(),c.setAttribute("href",e.toString())}}for(let g of document.querySelectorAll(`input[type="hidden"][name="${i}"]`))g.remove();for(let h of document.querySelectorAll("form.js-org-member-role"))h.appendChild(j(i,b))}),(0,e.on)("change",".js-org-reinstate-option",o),(0,d.N7)(".js-org-reinstate-forms",o),(0,d.N7)(".js-member-suggestion",function(){let a=Array.from(document.querySelectorAll(".js-badge")).map(a=>a.querySelector("input").value);if(0!==a.length)for(let b of document.querySelectorAll(".js-member-suggestion")){let c=b.getAttribute("data-autocomplete-value");if(a.includes(c)){b.classList.add("disabled"),b.setAttribute("aria-disabled","true");let d=b.querySelector(".js-non-member-warning-reason"),e=b.querySelector(".js-non-member-warning-action");if(d&&e)for(let f of[d,e])f.textContent=f.getAttribute("data-markup"),f instanceof HTMLElement&&(f.hidden=!1)}}}),(0,e.on)("combobox-commit",".js-badge-container .js-new-org-members-complete-results",a=>{let b=document.querySelector(".js-badge-input"),c=document.querySelector(".js-badges"),d=a.target,e=d.querySelectorAll(".js-badge-template"),f=Array.from(document.querySelectorAll(".js-badge")).map(a=>a.querySelector("input").value);for(let g of e){let h=g.cloneNode(!0),i=h.content,j=i.querySelector("input").value;f.includes(j)||c.append(i)}q(),D(a),b.value="",b.setAttribute("placeholder","")}),(0,e.on)("click",".js-badge-search-container .js-badge",a=>{let b=a.currentTarget,c=b.getAttribute("aria-pressed");"true"===c?b.setAttribute("aria-pressed","false"):b.setAttribute("aria-pressed","true")}),(0,e.on)("details-dialog-close",".js-invite-member-dialog",a=>{let b=a.currentTarget.querySelector(".js-auto-complete-button");b&&(b.disabled=!0)}),(0,e.on)("click",".js-badge-search-container",a=>{let b=a.currentTarget;b.querySelector("input").focus()}),(0,e.on)("click",".js-badge-container .js-member-suggestion",()=>{document.querySelector(".js-badge-input").focus()}),(0,f.w4)("keydown",".js-badge-search-container .js-badge-input",a=>{let b=a.target,c=b.closest(".js-badge-search-container"),d=c.querySelectorAll('.js-badges .js-badge[aria-pressed="true"]'),e=c.getAttribute("data-allow-plan-increase"),f="Backspace"!==a.key||""!==b.value;if(!e&&B()&&f){a.preventDefault();return}if(!f){if(0!==d.length)for(let g of d)g.remove(),E(g);else{let h=c.querySelectorAll(".js-badges .js-badge");if(0===h.length)return;let i=h[h.length-1];i.remove(),E(i)}q()}});let w=null;async function x(){let a=document.querySelector(".js-seats");if(!a)return;let b=new URL(a.getAttribute("data-url"),window.location.origin),c=new URLSearchParams(b.search.slice(1));c.append("seats",p().toString()),b.search=c.toString(),w?.abort();let{signal:d}=w=new AbortController,e=null;try{let f=await fetch(b.toString(),{signal:d,headers:{Accept:"application/json"}});f.ok&&(e=await f.json())}catch{}if(d.aborted||!e)return;let g=e.new_price,h=a.getAttribute("data-original-price");if(h&&g===h){v(".js-plan-no-change",!0);return}y();let i=e.selectors;for(let j in i)for(let k of document.querySelectorAll(j))k.innerHTML=i[j];v(".js-plan-no-change",!0),v(".js-plan-changes",!1),v(".js-complete-button",!0),v(".js-invite-button",!1)}function y(){let a=document.querySelector(".js-new-seats"),b=document.querySelector(".js-new-users-singular"),c=document.querySelector(".js-new-users-plural"),d=z();b.hidden=1!==d,c.hidden=1===d,a.textContent=String(d)}function z(){let a=document.querySelectorAll(".js-badge");return a.length||0}function A(){let a=document.querySelector(".js-seats");if(!a)return 0;let b=a.getAttribute("data-total-seats");return parseInt(b)}function B(){return A()===p()}function C(){let a=p();return A()<a}function D(a){let b=a.target;(0,g.sz)(b)}function E(a){(0,g.sz)(a)}},75662(a,b,c){c.d(b,{r:()=>d});function d(a,b){let c=a.createElement("template");return c.innerHTML=b,a.importNode(c.content,!0)}},76177(a,b,c){function d(a){let b=a.closest("form");if(!(b instanceof HTMLFormElement))return;let c=e(b);if(a.name){let d=a.matches("input[type=submit]")?"Submit":"",f=a.value||d;c||((c=document.createElement("input")).type="hidden",c.classList.add("js-submit-button-value"),b.prepend(c)),c.name=a.name,c.value=f}else c&&c.remove()}function e(a){let b=a.querySelector("input.js-submit-button-value");return b instanceof HTMLInputElement?b:null}c.d(b,{j:()=>d,u:()=>e})},34855(a,b,c){c.d(b,{b:()=>f});var d=c(80721);let e=[];function f(a,b=!1){void 0===a.timestamp&&(a.timestamp=new Date().getTime()),a.loggedIn=j(),a.staff=k(),e.push(a),b?i():h()}let g=null;async function h(){await d.C,null==g&&(g=window.requestIdleCallback(i))}function i(){if(g=null,!e.length)return;let a=document.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(!a)return;let b=JSON.stringify({stats:e});try{navigator.sendBeacon&&navigator.sendBeacon(a,b)}catch{}e=[]}function j(){return!!document.head?.querySelector('meta[name="user-login"]')?.content}function k(){return!!document.head?.querySelector('meta[name="user-staff"]')?.content}document.addEventListener("pagehide",i),document.addEventListener("visibilitychange",i)},94056(a,b,c){c.d(b,{Z:()=>m});var d=c(19146),e=c(98249),f=c(65935),g=c(63047);let h=!1;async function i(){let a=document.querySelector("link[rel=sudo-modal]"),b=document.querySelector(".js-sudo-prompt");if(b instanceof HTMLTemplateElement)return b;if(a){let c=await (0,e.a)(document,function(a){let b=new URL(a,window.location.origin),c=new URLSearchParams(b.search.slice(1));return c.set("webauthn-support",(0,g.T)()),b.search=c.toString(),b.toString()}(a.href));return document.body.appendChild(c),document.querySelector(".js-sudo-prompt")}throw Error("couldn't load sudo prompt")}let j=!1;async function k(){if(h)return!1;h=!0,j=!1;let a=await i(),b=a.content.cloneNode(!0),c=await (0,d.W)({content:b});return await new Promise(a=>{c.addEventListener("dialog:remove",function(){h=!1,a()},{once:!0})}),j}async function l(a,b,c="Sudo authentication failed.",d="Too many authentication attemtps. Please try again later.",e=".js-sudo-error",f){try{await b.text()}catch(g){if(!g.response)throw g;let h;switch(g.response.status){case 401:h=c;break;case 429:h=d;break;default:h="An unknown error occurred. Please try again later."}if(a.querySelector(e).textContent=h,a.querySelector(e).hidden=!1,f&&(a.querySelector(f).value=""),401!==g.response.status&&429!==g.response.status)throw g;return}j=!0,a.closest("details").removeAttribute("open")}async function m(){let a=await fetch("/sessions/in_sudo",{headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(a.ok){let b=await a.text();if("true"===b)return!0}return k()}(0,f.AC)(".js-sudo-webauthn-form",async function(a,b){await l(a,b)}),(0,f.AC)(".js-sudo-github-mobile-form",async function(a,b){await l(a,b)}),(0,f.AC)(".js-sudo-totp-form",async function(a,b){await l(a,b,void 0,void 0,".flash-error","#totp")}),(0,f.AC)(".js-sudo-password-form",async function(a,b){await l(a,b,"Incorrect password.","Too many password attempts. Please wait and try again.",void 0,".js-sudo-password")})},63047(a,b,c){c.d(b,{T:()=>e,k:()=>f});var d=c(8433);function e(){return(0,d.Zh)()?"supported":"unsupported"}async function f(){return await window.PublicKeyCredential?.isUserVerifyingPlatformAuthenticatorAvailable()?"supported":"unsupported"}}}])
//# sourceMappingURL=app_assets_modules_github_has-interactions_ts-app_assets_modules_github_history_ts-app_assets-94cfe1-69edd3908cd2.js.map